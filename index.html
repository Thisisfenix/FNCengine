<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friday Night Cooking 0.1.9</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
    .close
    <style>
        /* Base Styles */
        :root {
            --color-menu: #e67e22;
            --color-menu-hover: #d35400;
            --color-texto: #ffffff;
            --color-texto-rgb: 255, 255, 255;
            --color-fondo: #1a1a1a;
            --color-fondo-panel: rgba(40, 40, 40, 0.95);
            --sombra-panel: 0 0 20px rgba(230, 126, 34, 0.3);
            --transicion-rapida: all 0.25s ease;
        }

        body {
            background-color: var(--color-fondo);
            color: var(--color-texto);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            font-family: 'Roboto', sans-serif;
            overflow-x: hidden;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgwLDAsMCwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==');
            opacity: 1;
        }

        .hud-panel {
            background-color: var(--color-fondo-panel);
            border-radius: 15px;
            padding: 2rem;
            color: var(--color-texto);
            max-width: 600px;
            width: 95%;
            margin: 2rem auto;
            border: 2px solid var(--color-menu);
            box-shadow: var(--sombra-panel);
            position: relative;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJ3b29kIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcGF0dGVyblRyYW5zZm9ybT0icm90YXRlKDEzNSkiPjxyZWN0IHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgZmlsbD0icmdiYSgxMDQsIDY5LCAzMSwgMC4xKSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCN3b29kKSIvPjwvc3ZnPg==');
        }

        .hud-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--color-menu), transparent);
            z-index: 1;
        }

        .btn-cocina {
            background-color: var(--color-menu);
            border: none;
            color: var(--color-texto);
            padding: 12px 24px;
            margin: 8px 0;
            border-radius: 8px;
            width: 100%;
            transition: var(--transicion-rapida);
            font-weight: 600;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            will-change: transform;
        }

        .btn-cocina:hover {
            background-color: var(--color-menu-hover);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .btn-cocina:active {
            transform: translateY(1px);
        }

        .btn-cocina:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            background-color: #7f8c8d;
        }

        .btn-cocina:hover::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%);
            animation: sizzle 1.5s linear infinite;
        }

        @keyframes sizzle {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        #update-banner {
            background: linear-gradient(90deg, #17a2b8, #138496);
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
            transition: var(--transicion-rapida);
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            will-change: transform;
        }

        #update-banner:hover {
            background: linear-gradient(90deg, #138496, #117a8b);
        }

        #update-banner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        #update-banner:hover::after {
            transform: translateX(100%);
        }

        #color-picker-container {
            padding: 15px;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.7);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .update-item {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--color-menu);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
            transition: var(--transicion-rapida);
            color: var(--color-texto);
        }

        .update-item:hover {
            background-color: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--color-texto);
            font-size: 1.5rem;
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            transition: var(--transicion-rapida);
            z-index: 2;
        }

        .close-btn:hover {
            color: var(--color-menu);
            transform: rotate(90deg);
        }

        .popup-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            z-index: 1001;
            width: 95%;
            max-width: 600px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-out;
            will-change: transform, opacity;
        }

        .popup-panel.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        #fondo-oscuro {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
            transition: opacity 0.3s ease;
        }

        #fondo-oscuro.active {
            display: block;
            opacity: 1;
        }

        h1,
        h2,
        h3,
        h4 {
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            color: var(--color-texto);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(to right, var(--color-menu), #f1c40f);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            font-family: 'Pacifico', cursive;
        }

        h1::after {
            content: '';
            display: block;
            width: 100px;
            height: 4px;
            background: var(--color-menu);
            margin: 10px auto;
            border-radius: 2px;
        }

        .creditos-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--color-menu);
            margin-bottom: 15px;
            transition: var(--transicion-rapida);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .creditos-avatar:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .music-controls-container {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid var(--color-menu);
        }

        .music-info {
            text-align: center;
            margin-bottom: 15px;
            font-style: italic;
            color: var(--color-menu);
        }

        .music-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .music-btn {
            background: var(--color-menu);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transicion-rapida);
            color: white;
        }

        .music-btn:hover {
            background: var(--color-menu-hover);
            transform: scale(1.1);
        }

        #panel-actualizacion {
            max-height: 80vh;
            overflow-y: auto;
        }

        .achievements-container {
            max-height: 60vh;
            overflow-y: auto;
            padding-right: 10px;
        }

        .achievement {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            transition: var(--transicion-rapida);
            cursor: help;
            position: relative;
        }

        .achievement:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .achievement:hover::after {
            content: attr(data-progress);
            position: absolute;
            right: 10px;
            bottom: 5px;
            font-size: 0.8rem;
            color: var(--color-menu);
        }

        .achievement-icon {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            border-radius: 8px;
            background-color: var(--color-menu);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        .achievement-info {
            flex: 1;
        }

        .achievement-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--color-texto);
        }

        .achievement-desc {
            font-size: 0.9rem;
            opacity: 0.8;
            color: var(--color-texto);
        }

        .achievement-progress {
            height: 5px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }

        .achievement-progress-bar {
            height: 100%;
            background-color: var(--color-menu);
            width: 0%;
            transition: width 0.5s ease;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            10%,
            30%,
            50%,
            70%,
            90% {
                transform: translateX(-5px);
            }

            20%,
            40%,
            60%,
            80% {
                transform: translateX(5px);
            }
        }

        .music-selector {
            margin: 15px 0;
            width: 100%;
        }

        .music-selector select {
            background-color: rgba(0, 0, 0, 0.2);
            color: var(--color-texto);
            border: 1px solid var(--color-menu);
            border-radius: 5px;
            padding: 8px;
            width: 100%;
        }

        .secrets-container {
            max-height: 40vh;
            overflow-y: auto;
            padding-right: 10px;
        }

        .secret-item {
            background-color: rgba(243, 156, 18, 0.1);
            border-left: 4px solid var(--color-menu);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
            transition: var(--transicion-rapida);
            position: relative;
            overflow: hidden;
        }

        .secret-item::before {
            content: '🔒 SECRETO';
            position: absolute;
            top: 0;
            right: 0;
            background-color: var(--color-menu);
            color: white;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 0 0 0 5px;
        }

        .secret-item.unlocked::before {
            content: '🔓 SECRETO';
            background-color: #2ecc71;
        }

        .secret-item:hover {
            background-color: rgba(243, 156, 18, 0.15);
        }

        .achievements-container::-webkit-scrollbar,
        .secrets-container::-webkit-scrollbar,
        #panel-actualizacion::-webkit-scrollbar {
            width: 8px;
        }

        .achievements-container::-webkit-scrollbar-track,
        .secrets-container::-webkit-scrollbar-track,
        #panel-actualizacion::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .achievements-container::-webkit-scrollbar-thumb,
        .secrets-container::-webkit-scrollbar-thumb,
        #panel-actualizacion::-webkit-scrollbar-thumb {
            background-color: var(--color-menu);
            border-radius: 10px;
        }

        body.tema-claro {
            --color-texto: #333333;
            --color-texto-rgb: 51, 51, 51;
            --color-fondo: #f5f5f5;
            --color-fondo-panel: rgba(255, 255, 255, 0.9);
            background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgwLDAsMCwwLjA1KSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==');
        }

        body.tema-claro .update-item,
        body.tema-claro footer,
        body.tema-claro .creditos-container p,
        body.tema-claro .creditos-container h4,
        body.tema-claro .creditos-container h5,
        body.tema-claro .text-muted {
            color: #333333 !important;
        }

        body.tema-claro .close-btn {
            color: #333333;
        }

        body.tema-claro .close-btn:hover {
            color: var(--color-menu);
        }

        body.tema-claro .music-info {
            color: var(--color-menu-hover);
        }

        .advanced-settings {
            background-color: rgba(0, 0, 0, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border: 1px dashed var(--color-menu);
        }

        .advanced-settings h5 {
            color: var(--color-menu);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
        }

        .advanced-settings h5 i {
            transition: transform 0.3s ease;
        }

        .advanced-settings h5.collapsed i {
            transform: rotate(-90deg);
        }

        .advanced-settings-content {
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .advanced-settings-content.collapsed {
            max-height: 0 !important;
        }

        .secret-panel {
            background-color: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #8e44ad;
        }

        .secret-panel h3 {
            color: #8e44ad;
            text-align: center;
            margin-bottom: 20px;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--color-texto);
            font-size: 1.5rem;
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            transition: var(--transicion-rapida);
            z-index: 2;
        }

        .close-btn:hover {
            color: var(--color-menu);
            transform: rotate(90deg);
        }

        .secret-input {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid #8e44ad;
            color: white;
            padding: 10px;
            width: 100%;
            margin-bottom: 15px;
            border-radius: 5px;
        }

        #secret-password {
            background-color: rgba(0, 0, 0, 0.5);
            border: 1px solid #8e44ad;
            color: white;
            padding: 10px;
            width: 100%;
            margin-bottom: 15px;
            border-radius: 5px;
        }

        /* Game Panel Styles */
        #panel-juego {
            max-height: 80vh;
            overflow-y: auto;
        }

        .modo-juego {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid var(--color-menu);
            transition: var(--transicion-rapida);
            cursor: pointer;
        }

        .modo-juego:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .modo-juego h3 {
            color: var(--color-menu);
            margin-bottom: 10px;
        }

        .modo-juego p {
            margin-bottom: 0;
        }

        /* Game Screen Styles */
        #game-screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-fondo);
            z-index: 2000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        #game-header {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 800px;
            margin-bottom: 20px;
        }

        #game-timer,
        #game-score {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--color-menu);
        }

        #game-content {
            width: 100%;
            max-width: 800px;
            background-color: var(--color-fondo-panel);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid var(--color-menu);
            box-shadow: var(--sombra-panel);
            text-align: center;
        }

        #game-recipe {
            margin-bottom: 20px;
        }

        #game-ingredients {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .ingredient {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 20px;
            transition: var(--transicion-rapida);
            cursor: pointer;
        }

        .ingredient:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .ingredient.selected {
            background-color: var(--color-menu);
            color: white;
        }

        #game-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        #game-result {
            margin-top: 20px;
            font-size: 1.2rem;
            min-height: 30px;
        }

        #game-progress {
            width: 100%;
            height: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin-top: 20px;
            overflow: hidden;
        }

        #game-progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--color-menu);
            transition: width 0.3s ease;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .hud-panel {
                padding: 1.5rem;
                margin: 1rem auto;
            }

            h1 {
                font-size: 2rem;
            }

            .btn-cocina {
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            .music-btn {
                width: 35px;
                height: 35px;
            }

            #game-ingredients {
                gap: 8px;
            }

            .ingredient {
                padding: 8px 12px;
                font-size: 0.9rem;
            }

            #game-controls {
                flex-direction: column;
                gap: 8px;
            }
        }

        @media (max-width: 480px) {
            .hud-panel {
                padding: 1rem;
            }

            h1 {
                font-size: 1.8rem;
            }

            .creditos-avatar {
                width: 80px;
                height: 80px;
            }

            #game-header {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
        }

        /* NUEVOS ESTILOS PARA 0.1.9 */
        #panel-creditos {
            top: 45%;
            transform: translate(-50%, -50%) scale(0.95);
        }

        .creditos-container {
            max-height: 65vh;
            padding-bottom: 20px;
            color: var(--color-texto);
        }

        .creditos-seccion {
            margin-bottom: 25px;
            background-color: rgba(var(--color-texto-rgb), 0.03);
            padding: 15px;
            border-radius: 10px;
            color: var(--color-texto);
        }

        .creditos-container p,
        .creditos-container h4,
        .creditos-container h5 {
            color: var(--color-texto);
        }

        .text-muted {
            color: rgba(var(--color-texto-rgb), 0.7) !important;
        }

        /* Estilos para el panel secreto */
        .secret-panel {
            background-color: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #8e44ad;
            color: white;
        }

        .secret-panel h3 {
            color: #8e44ad;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(142, 68, 173, 0.5);
        }

        .secret-achievements-container {
            max-height: 60vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .secrets-scrollable {
            overflow-y: auto;
            padding-right: 10px;
            flex-grow: 1;
            margin-bottom: 15px;
        }

        .secret-item {
            background-color: rgba(142, 68, 173, 0.1);
            border-left: 3px solid #8e44ad;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 0 8px 8px 0;
            position: relative;
            color: var(--color-texto);
        }

        .secret-item.unlocked {
            background-color: rgba(46, 204, 113, 0.1);
            border-left-color: #2ecc71;
        }

        .secret-item h5 {
            color: #8e44ad;
            margin-bottom: 5px;
        }

        .secret-item.unlocked h5 {
            color: #2ecc71;
        }

        .secret-status {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 0.8rem;
            padding: 3px 8px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .secret-status.locked {
            color: #e74c3c;
        }

        .secret-status.unlocked {
            color: #2ecc71;
            background-color: rgba(46, 204, 113, 0.2);
        }

        /* Scrollbar personalizada */
        .secrets-scrollable::-webkit-scrollbar {
            width: 6px;
        }

        .secrets-scrollable::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 3px;
        }

        .secrets-scrollable::-webkit-scrollbar-thumb {
            background-color: #8e44ad;
            border-radius: 3px;
        }

        .achievement-notification {
            position: fixed;
            top: 20px;
            right: -400px;
            width: 350px;
            background-color: var(--color-fondo-panel);
            border-left: 5px solid var(--color-menu);
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 2000;
            transition: right 0.5s ease;
        }

        .achievement-notification.show {
            right: 20px;
        }

        .achievement-notification-content {
            display: flex;
            align-items: center;
        }

        .achievement-notification-icon {
            font-size: 2rem;
            color: var(--color-menu);
            margin-right: 15px;
        }

        .achievement-notification-text h4 {
            color: var(--color-menu);
            margin: 0 0 5px 0;
        }

        .achievement-notification-text h5 {
            margin: 0 0 5px 0;
            font-size: 1.1rem;
        }

        .achievement-notification-text p {
            margin: 0;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Efecto de sartén para los botones */
        .btn-cocina::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .btn-cocina:hover::before {
            opacity: 1;
        }

        /* Animación para notificaciones */
        @keyframes slideIn {
            from {
                right: -400px;
            }

            to {
                right: 20px;
            }
        }

        @keyframes slideOut {
            from {
                right: 20px;
            }

            to {
                right: -400px;
            }
        }

        .idioma-selector {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }

        .btn-idioma {
            background-color: var(--color-menu);
            color: var(--color-texto);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: var(--transicion-rapida);
        }

        .btn-idioma:hover {
            transform: scale(1.1);
        }

        #panel-opciones {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-height: 90vh;
            overflow-y: auto;
            width: 95%;
            z-index: 1001;
        }
    </style>
</head>

<body>
    <div id="fondo-oscuro"></div>

    <div id="update-banner">
        ⚡ Actualización 0.1.9 - Haz clic para ver los cambios (o desaparecerá en 10 segundos)
    </div>

    <div id="color-picker-container">
        <label for="color-picker">Color del menú:</label>
        <input type="color" id="color-picker" class="form-control form-control-color" value="#e67e22"
            title="Elige el color del menú">
    </div>

    <main class="container py-4">
        <section id="menu-principal" class="hud-panel w-100">
            <h1 class="text-center mb-4">Friday Night Cooking</h1>
            <div class="d-grid gap-2">
                <button id="btn-jugar" class="btn-cocina">Jugar</button>
                <button id="btn-crear" class="btn-cocina" disabled>Crear</button>
                <button id="btn-actualizacion" class="btn-cocina">Actualizaciones</button>
                <button id="btn-logros" class="btn-cocina">Logros</button>
                <button id="btn-opciones" class="btn-cocina">Opciones</button>
                <button id="btn-creditos" class="btn-cocina">Créditos</button>
                <button id="btn-secretos" class="btn-cocina"
                    style="display: none; background-color: #8e44ad;">Secretos</button>
                <button id="btn-salir" class="btn-cocina">Salir</button>
            </div>
        </section>

        <section id="panel-actualizacion" class="hud-panel popup-panel w-100">
            <button id="btn-volver-menu-act" class="close-btn">✕</button>
            <h2 class="text-center mb-4">Últimas Actualizaciones</h2>
            <div class="update-container">
                <div class="update-item">
                    <h4>Versión 0.1.9 <span class="badge bg-success ms-2">Nuevo</span></h4>
                    <ul>
                        <li><strong>Mejoras visuales:</strong>
                            <ul>
                                <li>Nuevo estilo de cocina con texturas y efectos</li>
                                <li>Mejor manejo de colores negro/blanco</li>
                                <li>Nuevo logro "Nice Try" al usar colores extremos</li>
                                <li>Mejoras en el sistema de secretos</li>
                            </ul>
                        </li>
                        <li><strong>Correcciones:</strong>
                            <ul>
                                <li>Problema de visibilidad de texto en modo oscuro</li>
                                <li>Mejoras en la legibilidad de los créditos</li>
                                <li>Optimización del sistema de temas</li>
                            </ul>
                        </li>
                    </ul>
                    <small class="text-muted">Publicado: 20/06/2025</small>
                </div>
                <div class="update-item">
                    <h4>Versión 0.1.8</h4>
                    <ul>
                        <li><strong>Correcciones:</strong>
                            <ul>
                                <li>Problema de visibilidad de texto en modo oscuro</li>
                                <li>Mejoras en la legibilidad de los créditos</li>
                                <li>Optimización del sistema de temas</li>
                                <li>(Bugs arreglados y encontrados por soyrichard123)</li>
                            </ul>
                        </li>
                    </ul>
                    <small class="text-muted">Publicado: 19/06/2025</small>
                </div>
            </div>
        </section>

        <section id="panel-logros" class="hud-panel popup-panel w-100">
            <button id="btn-volver-menu-logros" class="close-btn">✕</button>
            <h2 class="text-center mb-4">Logros</h2>
            <div class="achievements-container">
                <!-- Logro Nice Try -->
                <div class="achievement" id="achievement-niceTry">
                    <div class="achievement-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Nice Try</div>
                        <div class="achievement-desc">Intentaste usar negro/blanco como color</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- Logros del juego -->
                <div class="achievement" id="achievement-firstRecipe" data-progress="0/1">
                    <div class="achievement-icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Primera Receta</div>
                        <div class="achievement-desc">Completa tu primera receta</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-fiveRecipes" data-progress="0/5">
                    <div class="achievement-icon">
                        <i class="fas fa-medal"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Chef Novato</div>
                        <div class="achievement-desc">Completa 5 recetas</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-tenRecipes" data-progress="0/10">
                    <div class="achievement-icon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Chef Experimentado</div>
                        <div class="achievement-desc">Completa 10 recetas</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-perfectRecipe" data-progress="0/1">
                    <div class="achievement-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Perfeccionista</div>
                        <div class="achievement-desc">Completa una receta sin errores</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-timeChallenge" data-progress="0/1">
                    <div class="achievement-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Supervivencia</div>
                        <div class="achievement-desc">Sobrevive 30 segundos</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <!-- Logros del menú principal -->
                <div class="achievement" id="achievement-firstLaunch">
                    <div class="achievement-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Primer lanzamiento</div>
                        <div class="achievement-desc">Inicia el juego por primera vez</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 100%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-updateChecker">
                    <div class="achievement-icon">
                        <i class="fas fa-list-check"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Explorador de actualizaciones</div>
                        <div class="achievement-desc">Revisa las actualizaciones del juego</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-optionsExplorer">
                    <div class="achievement-icon">
                        <i class="fas fa-sliders-h"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Explorador de opciones</div>
                        <div class="achievement-desc">Accede al menú de opciones</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-musicLover">
                    <div class="achievement-icon">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Amante de la música</div>
                        <div class="achievement-desc">Reproduce música en el juego</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-colorChanger">
                    <div class="achievement-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Cambiador de colores</div>
                        <div class="achievement-desc">Cambia el color del menú</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="achievement" id="achievement-secretFinder">
                    <div class="achievement-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="achievement-info">
                        <div class="achievement-title">Buscador de secretos</div>
                        <div class="achievement-desc">Encuentra tu primer secreto</div>
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="panel-opciones" class="hud-panel popup-panel w-100">
            <button id="btn-volver-menu" class="close-btn">✕</button>
            <h2 class="text-center mb-4">Opciones</h2>
            <div class="mb-4">
                <label for="selector-tema" class="form-label">Tema:</label>
                <select id="selector-tema" class="form-select">
                    <option value="automatico">Automático (Sistema)</option>
                    <option value="light">Claro</option>
                    <option value="dark">Oscuro</option>
                </select>
            </div>

            <div class="mb-4">
                <label for="selector-dificultad" class="form-label">Dificultad:</label>
                <select id="selector-dificultad" class="form-select">
                    <option value="facil">Fácil</option>
                    <option value="normal" selected>Normal</option>
                    <option value="dificil">Difícil</option>
                </select>
            </div>

            <div class="music-controls-container">
                <div class="music-info">
                    <p>Música actual: <span id="nombre-musica">Lo-fi Cooking</span></p>
                </div>

                <div class="music-selector">
                    <label for="select-music">Seleccionar canción:</label>
                    <select id="select-music" class="form-select">
                        <option value="0">Lo-fi Cooking</option>
                        <option value="1">Kitchen Groove</option>
                        <option value="2">Midnight Snack</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label class="form-label">Volumen música: <span id="valor-volumen-musica">50</span>%</label>
                    <input type="range" id="volumen-musica" class="form-range" min="0" max="100" step="1" value="50">
                </div>
                <div class="mb-4">
                    <label class="form-label">Volumen sonidos: <span id="valor-volumen-sonido">50</span>%</label>
                    <input type="range" id="volumen-sonido" class="form-range" min="0" max="100" step="1" value="50">
                </div>
                <div class="music-buttons">
                    <button id="btn-prev-music" class="music-btn" title="Canción anterior">
                        <i class="fas fa-backward"></i>
                    </button>
                    <button id="btn-play-music" class="music-btn" title="Reproducir música">
                        <i class="fas fa-play"></i>
                    </button>
                    <button id="btn-pause-music" class="music-btn" title="Pausar música">
                        <i class="fas fa-pause"></i>
                    </button>
                    <button id="btn-stop-music" class="music-btn" title="Detener música">
                        <i class="fas fa-stop"></i>
                    </button>
                    <button id="btn-next-music" class="music-btn" title="Siguiente canción">
                        <i class="fas fa-forward"></i>
                    </button>
                </div>
                <div class="form-check form-switch mt-3">
                    <input class="form-check-input" type="checkbox" id="auto-play-music">
                    <label class="form-check-label" for="auto-play-music">Reproducir música automáticamente</label>
                </div>
            </div>

            <div class="text-center mt-4">
                <button class="btn-cocina" id="btn-guardar-opciones">Guardar Configuración</button>
                <button class="btn-cocina mt-2" id="btn-reset-opciones" style="background-color: #e74c3c;">Restablecer
                    Configuración</button>
            </div>
        </section>

        <section id="panel-creditos" class="hud-panel popup-panel w-100">
            <button id="btn-cerrar-creditos" class="close-btn">✕</button>
            <h2 class="text-center mb-4">Créditos</h2>

            <div class="creditos-container">
                <div class="row justify-content-center creditos-seccion">
                    <div class="col-md-4 text-center">
                        <img src="assets/images/9fc2a9df8789de0960974d06923f1929.png" class="creditos-avatar"
                            alt="Desarrollador">
                        <h4>Just Fenix</h4>
                        <p class="text-muted">Desarrollador Principal</p>
                    </div>
                    <div class="col-md-4 text-center">
                        <img src="assets/images/c323129d4ccb30882fcb89814a94b9f8.png" class="creditos-avatar"
                            alt="Diseñador">
                        <h4>Less</h4>
                        <p class="text-muted">Idea principal</p>
                    </div>
                </div>

                <div class="update-item mt-4">
                    <h5>Gracias por jugar</h5>
                    <p class="mb-0">FNC Engine 0.1.9</p>
                    <small class="text-muted">© 2025 Todos los derechos reservados</small>
                </div>
            </div>
        </section>

        <section id="panel-secretos" class="hud-panel popup-panel w-100" style="display: none;">
            <button id="btn-cerrar-secretos" class="close-btn">✕</button>
            <div class="secret-panel">
                <h3>🔒 Área Secreta</h3>

                <div class="secret-achievements-container">
                    <h4 class="text-center mb-3">Logros Secretos</h4>

                    <div class="secrets-scrollable">
                        <!-- Logro 1 -->
                        <div class="secret-item" id="secret-1">
                            <h5>Paciencia Recompensada</h5>
                            <p>Esperaste 5 minutos en el menú principal</p>
                            <div class="secret-status locked">🔒 Bloqueado</div>
                        </div>

                        <!-- Logro 2 -->
                        <div class="secret-item" id="secret-2">
                            <h5>Hora del Misterio</h5>
                            <p>Jugaste a las 3:33 AM</p>
                            <div class="secret-status locked">🔒 Bloqueado</div>
                        </div>

                        <!-- Logro 3 -->
                        <div class="secret-item" id="secret-3">
                            <h5>Cambiador de Colores</h5>
                            <p>Cambiaste el color del menú 5 veces</p>
                            <div class="secret-status locked">🔒 Bloqueado</div>
                        </div>

                        <!-- Logro 4 -->
                        <div class="secret-item" id="secret-4">
                            <h5>Maestro Konami</h5>
                            <p>Descubriste el código Konami</p>
                            <div class="secret-status locked">🔒 Bloqueado</div>
                        </div>

                        <!-- Logro 5 -->
                        <div class="secret-item" id="secret-5">
                            <h5>Explorador Completo</h5>
                            <p>Visitaste todos los paneles del menú</p>
                            <div class="secret-status locked">🔒 Bloqueado</div>
                        </div>

                        <!-- Logro 6 -->
                        <div class="secret-item" id="secret-6">
                            <h5>Persistencia</h5>
                            <p>Mantuviste presionado el botón Jugar por 10 segundos</p>
                            <div class="secret-status locked">🔒 Bloqueado</div>
                        </div>
                    </div>

                    <div class="secret-controls mt-4">
                        <input type="password" id="secret-password" class="form-control mb-3"
                            placeholder="Ingresa la contraseña secreta">
                        <button id="submit-password" class="btn-cocina"
                            style="background-color: #8e44ad;">Verificar</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="panel-juego" class="hud-panel popup-panel w-100" style="display: none;">
            <button id="btn-volver-menu-juego" class="close-btn">✕</button>
            <h2 class="text-center mb-4">Modos de Juego</h2>

            <div class="modos-juego">
                <div class="modo-juego" id="modo-clasico">
                    <h3>Modo Clásico</h3>
                    <p>Cocina recetas tradicionales con tiempo limitado. Completa tantas como puedas antes de que se
                        acabe el tiempo.</p>
                    <button class="btn-cocina mt-2" id="btn-jugar-clasico">Jugar</button>
                </div>

                <div class="modo-juego" id="modo-supervivencia">
                    <h3>Modo Supervivencia</h3>
                    <p>No hay límite de tiempo, pero los errores te costarán vidas. ¿Cuántas recetas podrás completar?
                    </p>
                    <button class="btn-cocina mt-2" id="btn-jugar-supervivencia">Jugar</button>
                </div>

                <div class="modo-juego" id="modo-desafio">
                    <h3>Modo Desafío</h3>
                    <p>Recetas difíciles con ingredientes especiales. Solo para chefs experimentados.</p>
                    <button class="btn-cocina mt-2" id="btn-jugar-desafio">Jugar</button>
                </div>
            </div>
        </section>
    </main>

    <footer class="text-center py-3">
        © FNC Engine 0.1.9 - Todos los derechos reservados
    </footer>

    <!-- Audio Elements -->
    <audio id="bg-music" loop>
        <source src="assets/music/lo-fi-1_04-15745.mp3" type="audio/mpeg">
    </audio>

    <audio id="bg-music-1" loop>
        <source src="assets/music/kitchen-groove.mp3" type="audio/mpeg">
    </audio>

    <audio id="bg-music-2" loop>
        <source src="assets/music/midnight-snack.mp3" type="audio/mpeg">
    </audio>

    <audio id="sound-effect">
        <source src="assets/sounds/knife-slice-41231.mp3" type="audio/mpeg">
    </audio>

    <audio id="secret-sound">
        <source src="assets/sounds/magic-chime-14865.mp3" type="audio/mpeg">
    </audio>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Variables globales
        let currentMusic = 0;
        const musicElements = [
            { element: document.getElementById('bg-music'), name: 'Lo-fi Cooking' },
            { element: document.getElementById('bg-music-1'), name: 'Kitchen Groove' },
            { element: document.getElementById('bg-music-2'), name: 'Midnight Snack' }
        ];
        let isMusicPlaying = false;
        let secretUnlocked = false;

        // Inicialización al cargar la página
        document.addEventListener('DOMContentLoaded', function () {
            // Cargar configuración guardada primero
            loadSettings();

            // Configurar eventos
            setupEventListeners();

            // Desbloquear logro de primer lanzamiento
            unlockAchievement('achievement-firstLaunch');

            // Configurar temporizador para el banner de actualización
            setupUpdateBannerTimer();
        });

        // Configurar todos los event listeners
        function setupEventListeners() {
            // Navegación entre paneles
            document.getElementById('btn-jugar').addEventListener('click', () => showPanel('panel-juego'));
            document.getElementById('btn-actualizacion').addEventListener('click', () => showPanel('panel-actualizacion'));
            document.getElementById('btn-logros').addEventListener('click', () => showPanel('panel-logros'));
            document.getElementById('btn-opciones').addEventListener('click', () => showPanel('panel-opciones'));
            document.getElementById('btn-creditos').addEventListener('click', () => showPanel('panel-creditos'));
            document.getElementById('btn-secretos').addEventListener('click', () => showPanel('panel-secretos'));
            document.getElementById('btn-salir').addEventListener('click', exitGame);

            // Botones de volver
            document.getElementById('btn-volver-menu-act').addEventListener('click', () => hidePanel('panel-actualizacion'));
            document.getElementById('btn-volver-menu-logros').addEventListener('click', () => hidePanel('panel-logros'));
            document.getElementById('btn-volver-menu').addEventListener('click', () => hidePanel('panel-opciones'));
            document.getElementById('btn-cerrar-creditos').addEventListener('click', () => hidePanel('panel-creditos'));
            document.getElementById('btn-cerrar-secretos').addEventListener('click', () => hidePanel('panel-secretos'));
            document.getElementById('btn-volver-menu-juego').addEventListener('click', () => hidePanel('panel-juego'));

            // Control de música
            document.getElementById('btn-play-music').addEventListener('click', playMusic);
            document.getElementById('btn-pause-music').addEventListener('click', pauseMusic);
            document.getElementById('btn-stop-music').addEventListener('click', stopMusic);
            document.getElementById('btn-prev-music').addEventListener('click', prevMusic);
            document.getElementById('btn-next-music').addEventListener('click', nextMusic);
            document.getElementById('select-music').addEventListener('change', changeMusic);
            document.getElementById('volumen-musica').addEventListener('input', updateMusicVolume);
            document.getElementById('volumen-sonido').addEventListener('input', updateSoundVolume);

            // Selector de color
            document.getElementById('color-picker').addEventListener('input', handleColorChange);

            // Selector de tema
            document.getElementById('selector-tema').addEventListener('change', function() {
                applyTheme(this.value);
                saveSettings();
            });

            // Guardar configuración
            document.getElementById('btn-guardar-opciones').addEventListener('click', saveSettings);
            document.getElementById('btn-reset-opciones').addEventListener('click', resetSettings);

            // Banner de actualización
            document.getElementById('update-banner').addEventListener('click', () => {
                showPanel('panel-actualizacion');
                clearTimeout(updateBannerTimer);
                document.getElementById('update-banner').style.display = 'none';
            });

            // Verificación de contraseña secreta
            document.getElementById('submit-password').addEventListener('click', checkSecretPassword);

            // Botón de jugar (para el secreto de persistencia)
            setupPressAndHold();

            // Botones de juego
            document.getElementById('btn-jugar-clasico').addEventListener('click', () => startGame('classic'));
            document.getElementById('btn-jugar-supervivencia').addEventListener('click', () => startGame('survival'));
            document.getElementById('btn-jugar-desafio').addEventListener('click', () => startGame('challenge'));
        }

        // Mostrar un panel específico
        function showPanel(panelId) {
            // Desbloquear logros relacionados
            if (panelId === 'panel-actualizacion') {
                unlockAchievement('achievement-updateChecker');
            } else if (panelId === 'panel-opciones') {
                unlockAchievement('achievement-optionsExplorer');
            } else if (panelId === 'panel-juego') {
                // Verificar si se han visitado todos los paneles para el secreto
                checkAllPanelsVisited();
            }

            document.getElementById('fondo-oscuro').classList.add('active');
            document.getElementById(panelId).style.display = 'block';
            document.getElementById(panelId).classList.add('active');
            document.body.style.overflow = 'hidden';

            // Reproducir efecto de sonido
            playSoundEffect();
        }

        // Ocultar un panel
        function hidePanel(panelId) {
            document.getElementById('fondo-oscuro').classList.remove('active');
            document.getElementById(panelId).classList.remove('active');
            setTimeout(() => {
                document.getElementById(panelId).style.display = 'none';
            }, 300);
            document.body.style.overflow = 'auto';

            // Reproducir efecto de sonido
            playSoundEffect();
        }

        // Control de música
        function playMusic() {
            musicElements[currentMusic].element.play();
            isMusicPlaying = true;
            document.getElementById('btn-play-music').style.display = 'none';
            document.getElementById('btn-pause-music').style.display = 'flex';
            unlockAchievement('achievement-musicLover');
        }

        function pauseMusic() {
            musicElements[currentMusic].element.pause();
            isMusicPlaying = false;
            document.getElementById('btn-play-music').style.display = 'flex';
            document.getElementById('btn-pause-music').style.display = 'none';
        }

        function stopMusic() {
            pauseMusic();
            musicElements[currentMusic].element.currentTime = 0;
        }

        function nextMusic() {
            stopMusic();
            currentMusic = (currentMusic + 1) % musicElements.length;
            updateMusicInfo();
            if (isMusicPlaying) playMusic();
        }

        function prevMusic() {
            stopMusic();
            currentMusic = (currentMusic - 1 + musicElements.length) % musicElements.length;
            updateMusicInfo();
            if (isMusicPlaying) playMusic();
        }

        function changeMusic() {
            stopMusic();
            currentMusic = parseInt(document.getElementById('select-music').value);
            updateMusicInfo();
            if (isMusicPlaying) playMusic();
        }

        function updateMusicInfo() {
            document.getElementById('nombre-musica').textContent = musicElements[currentMusic].name;
            document.getElementById('select-music').value = currentMusic;
        }

        function updateMusicVolume() {
            const volume = document.getElementById('volumen-musica').value / 100;
            musicElements.forEach(music => {
                music.element.volume = volume;
            });
            document.getElementById('valor-volumen-musica').textContent = document.getElementById('volumen-musica').value;
        }

        function updateSoundVolume() {
            document.getElementById('valor-volumen-sonido').textContent = document.getElementById('volumen-sonido').value;
        }

        // Manejo del cambio de color
        function handleColorChange(e) {
            const color = e.target.value;

            // Si el color es negro o blanco, cambiamos al inverso
            if (color === '#000000' || color === '#ffffff') {
                const inverseColor = color === '#000000' ? '#ffffff' : '#000000';
                document.documentElement.style.setProperty('--color-menu', inverseColor);
                document.documentElement.style.setProperty('--color-menu-hover', adjustColor(inverseColor, -20));

                // Desbloquear logro "Nice Try"
                unlockAchievement('achievement-niceTry');
            } else {
                document.documentElement.style.setProperty('--color-menu', color);
                document.documentElement.style.setProperty('--color-menu-hover', adjustColor(color, -20));
            }

            // Desbloquear logro de cambiador de colores
            unlockAchievement('achievement-colorChanger');

            // Contar cambios de color para el secreto
            countColorChanges();
        }

        function adjustColor(color, amount) {
            return '#' + color.replace(/^#/, '').replace(/../g, color =>
                ('0' + Math.min(255, Math.max(0, parseInt(color, 16) + amount)).toString(16)).substr(-2));
        }

        // Contador de cambios de color para el secreto
        let colorChangeCount = 0;
        function countColorChanges() {
            colorChangeCount++;
            if (colorChangeCount >= 5) {
                unlockSecret('secret-3');
            }
        }

        // Guardar configuración
        function saveSettings() {
            const menuColor = document.getElementById('color-picker').value;
            const menuHover = adjustColor(menuColor, -20); // genera el hover dinámico

            const settings = {
                theme: document.getElementById('selector-tema').value,
                difficulty: document.getElementById('selector-dificultad').value,
                musicVolume: document.getElementById('volumen-musica').value,
                soundVolume: document.getElementById('volumen-sonido').value,
                currentMusic: currentMusic,
                autoPlay: document.getElementById('auto-play-music').checked,
                menuColor: menuColor,
                menuColorHover: menuHover,
                achievements: getUnlockedAchievements(),
                secrets: getUnlockedSecrets()
            };

            localStorage.setItem('fncSettings', JSON.stringify(settings));

            // Mostrar feedback al usuario
            showNotification('Configuración guardada correctamente');
        }

        // Cargar configuración
        function loadSettings() {
            const savedSettings = localStorage.getItem('fncSettings');
            if (savedSettings) {
                const settings = JSON.parse(savedSettings);

                // Aplicar configuración
                document.getElementById('selector-tema').value = settings.theme || 'automatico';
                document.getElementById('selector-dificultad').value = settings.difficulty || 'normal';
                document.getElementById('volumen-musica').value = settings.musicVolume || 50;
                document.getElementById('valor-volumen-musica').textContent = settings.musicVolume || 50;
                document.getElementById('volumen-sonido').value = settings.soundVolume || 50;
                document.getElementById('valor-volumen-sonido').textContent = settings.soundVolume || 50;
                currentMusic = settings.currentMusic || 0;
                document.getElementById('select-music').value = currentMusic;
                document.getElementById('auto-play-music').checked = settings.autoPlay || false;
                document.getElementById('color-picker').value = settings.menuColor || '#e67e22';

                // Aplicar el tema primero
                applyTheme(settings.theme || 'automatico', true);

                // Aplicar color del menú después del tema
                document.documentElement.style.setProperty('--color-menu', settings.menuColor || '#e67e22');
                document.documentElement.style.setProperty('--color-menu-hover', settings.menuColorHover || adjustColor(settings.menuColor || '#e67e22', -20));

                // Restaurar logros desbloqueados
                if (settings.achievements) {
                    restoreAchievements(settings.achievements);
                }

                // Restaurar secretos desbloqueados
                if (settings.secrets && settings.secrets.length > 0) {
                    settings.secrets.forEach(secretId => {
                        unlockSecret(secretId);
                    });
                }

                // Aplicar volumen
                updateMusicVolume();

                // Reproducir música automáticamente si está configurado
                if (settings.autoPlay) {
                    playMusic();
                }

                updateMusicInfo();
            }
        }

        // Obtener logros desbloqueados
        function getUnlockedAchievements() {
            const unlocked = {};
            document.querySelectorAll('.achievement').forEach(achievement => {
                if (achievement.querySelector('.achievement-progress-bar').style.width === '100%') {
                    unlocked[achievement.id.replace('achievement-', '')] = true;
                }
            });
            return unlocked;
        }

        // Restaurar logros desbloqueados
        function restoreAchievements(achievements) {
            for (const achievementId in achievements) {
                const element = document.getElementById(`achievement-${achievementId}`);
                if (element) {
                    element.querySelector('.achievement-progress-bar').style.width = '100%';
                }
            }
        }

        // Obtener secretos desbloqueados
        function getUnlockedSecrets() {
            const unlocked = [];
            document.querySelectorAll('.secret-item.unlocked').forEach(secret => {
                unlocked.push(secret.id);
            });
            return unlocked;
        }

        // Restablecer configuración
        function resetSettings() {
            if (confirm('¿Estás seguro de que quieres restablecer toda la configuración a los valores predeterminados?')) {
                localStorage.removeItem('fncSettings');
                showNotification('Configuración restablecida');
                setTimeout(() => {
                    location.reload();
                }, 1000);
            }
        }

        // Manejo de temas
        function applyTheme(theme, skipSaving = false) {
            // Primero eliminar cualquier tema existente
            document.body.classList.remove('tema-claro');
            
            // Guardar el tema en localStorage si no estamos en modo skipSaving
            if (!skipSaving) {
                localStorage.setItem('fnc-theme', theme);
            }

            // Aplicar el tema seleccionado
            if (theme === 'automatico') {
                // Usar la preferencia del sistema
                const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
                if (!prefersDark) {
                    document.body.classList.add('tema-claro');
                }
            } else if (theme === 'light') {
                document.body.classList.add('tema-claro');
            }
            // 'dark' es el tema por defecto, no necesita clase adicional

            // Configurar listener para cambios en el tema del sistema si es automático
            if (theme === 'automatico') {
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
                    if (document.getElementById('selector-tema').value === 'automatico') {
                        document.body.classList.toggle('tema-claro', !e.matches);
                    }
                });
            }
        }

        // Banner de actualización
        let updateBannerTimer;
        function setupUpdateBannerTimer() {
            updateBannerTimer = setTimeout(() => {
                document.getElementById('update-banner').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('update-banner').style.display = 'none';
                }, 500);
            }, 10000);
        }

        // Función para desbloquear logros
        function unlockAchievement(achievementId) {
            const achievement = document.getElementById(achievementId);
            if (achievement && achievement.querySelector('.achievement-progress-bar').style.width !== '100%') {
                achievement.querySelector('.achievement-progress-bar').style.width = '100%';

                // Mostrar notificación
                showAchievementNotification(
                    'Logro desbloqueado',
                    achievement.querySelector('.achievement-title').textContent,
                    achievement.querySelector('.achievement-desc').textContent
                );

                // Reproducir sonido de logro
                playSoundEffect('achievement');

                // Verificar si es un logro secreto
                if (achievementId.startsWith('secret-')) {
                    secretUnlocked = true;
                    document.getElementById('btn-secretos').style.display = 'block';
                    unlockAchievement('achievement-secretFinder');
                }

                // Guardar en localStorage
                saveSettings();
            }
        }

        // Función para desbloquear secretos
        function unlockSecret(secretId) {
            const secretItem = document.getElementById(secretId);
            if (secretItem && !secretItem.classList.contains('unlocked')) {
                secretItem.classList.add('unlocked');
                secretItem.querySelector('.secret-status').textContent = '🔓 Desbloqueado';
                secretItem.querySelector('.secret-status').classList.remove('locked');
                secretItem.querySelector('.secret-status').classList.add('unlocked');

                // Reproducir sonido de desbloqueo
                playSoundEffect('secret');

                // Mostrar notificación
                showAchievementNotification(
                    'Secreto desbloqueado',
                    secretItem.querySelector('h5').textContent,
                    secretItem.querySelector('p').textContent);

                // Mostrar botón de secretos si está oculto
                document.getElementById('btn-secretos').style.display = 'block';

                // Desbloquear logro de buscador de secretos
                unlockAchievement('achievement-secretFinder');

                // Verificar si todos los secretos están desbloqueados
                checkAllSecretsUnlocked();

                // Guardar en localStorage
                saveSettings();
            }
        }

        function checkAllSecretsUnlocked() {
            const allSecrets = document.querySelectorAll('.secret-item');
            const unlockedSecrets = document.querySelectorAll('.secret-item.unlocked');

            if (allSecrets.length === unlockedSecrets.length) {
                unlockAchievement('achievement-secretMaster');
            }
        }

        // Verificación de contraseña secreta
        function checkSecretPassword() {
            const password = document.getElementById('secret-password').value;
            if (password.toLowerCase() === 'salsa') {
                // Desbloquear un secreto aleatorio
                const secrets = document.querySelectorAll('.secret-item:not(.unlocked)');
                if (secrets.length > 0) {
                    const randomIndex = Math.floor(Math.random() * secrets.length);
                    const secretId = secrets[randomIndex].id;
                    unlockSecret(secretId);
                }

                document.getElementById('secret-password').value = '';
                showNotification('¡Contraseña correcta! Secreto desbloqueado');
            } else {
                showNotification('Contraseña incorrecta', 'error');
            }
        }

        // Configurar el evento de mantener presionado para el botón de jugar
        function setupPressAndHold() {
            const btn = document.getElementById('btn-jugar');
            let pressTimer;

            btn.addEventListener('mousedown', function () {
                pressTimer = setTimeout(function () {
                    unlockSecret('secret-6');
                }, 10000); // 10 segundos
            });

            btn.addEventListener('mouseup', function () {
                clearTimeout(pressTimer);
            });

            btn.addEventListener('mouseleave', function () {
                clearTimeout(pressTimer);
            });
        }

        // Mostrar notificación de logro
        function showAchievementNotification(title, achievement, description) {
            const notification = document.createElement('div');
            notification.className = 'achievement-notification';
            notification.innerHTML = `
            <div class="achievement-notification-content">
                <div class="achievement-notification-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="achievement-notification-text">
                    <h4>${title}</h4>
                    <h5>${achievement}</h5>
                    <p>${description}</p>
                </div>
            </div>
        `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 500);
            }, 5000);
        }

        // Mostrar notificación genérica
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `achievement-notification ${type}`;
            notification.innerHTML = `
            <div class="achievement-notification-content">
                <div class="achievement-notification-icon">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                </div>
                <div class="achievement-notification-text">
                    <p>${message}</p>
                </div>
            </div>
        `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    notification.remove();
                }, 500);
            }, 3000);
        }

        // Reproducir efectos de sonido
        function playSoundEffect(type = 'normal') {
            const sound = document.getElementById(type === 'secret' ? 'secret-sound' : 'sound-effect');
            if (sound) {
                sound.volume = document.getElementById('volumen-sonido').value / 100;
                sound.currentTime = 0;
                sound.play().catch(e => console.log("Error al reproducir sonido:", e));
            }
        }

        // Detector de gesto táctil secreto (dibujar una "C" en pantalla)
        let touchStartPos = null;
        let touchPath = [];

        document.addEventListener('touchstart', (e) => {
            touchStartPos = { x: e.touches[0].clientX, y: e.touches[0].clientY };
            touchPath = [];
        });

        document.addEventListener('touchmove', (e) => {
            if (touchStartPos) {
                touchPath.push({
                    x: e.touches[0].clientX,
                    y: e.touches[0].clientY
                });
            }
        });

        document.addEventListener('touchend', () => {
            if (touchPath.length > 20) { // Mínimo de puntos para considerar un gesto
                const deltaX = touchPath[touchPath.length - 1].x - touchStartPos.x;
                const deltaY = touchPath[touchPath.length - 1].y - touchStartPos.y;

                // Verificar si el gesto se parece a una "C" (movimiento semicircular)
                if (Math.abs(deltaX) > 100 && Math.abs(deltaY) > 50) {
                    showSecretPanel();
                }
            }
            touchStartPos = null;
        });

        // Método para mostrar el panel secreto
        function showSecretPanel() {
            const panelSecreto = document.getElementById('panel-secretos');
            const fondoOscuro = document.getElementById('fondo-oscuro');

            if (panelSecreto && fondoOscuro) {
                panelSecreto.style.display = 'block';
                panelSecreto.classList.add('active');
                fondoOscuro.classList.add('active');
                document.body.style.overflow = 'hidden';

                // Reproducir sonido de feedback
                playSoundEffect('secret');

                // Vibración (opcional, solo para móviles)
                if (navigator.vibrate) {
                    navigator.vibrate([100, 50, 100]);
                }
            }
        }

        // Combinación de teclas para mostrar el panel secreto: Ctrl+Alt+C
        document.addEventListener('keydown', function (event) {
            if (event.ctrlKey && event.altKey && event.key.toLowerCase() === 'c') {
                showSecretPanel();
            }

            // Código Konami: ↑↑↓↓←→←→BA
            const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
            let konamiIndex = 0;

            if (event.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    // Código Konami completado
                    unlockSecret('secret-4');
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        // Verificar la hora para el secreto de las 3:33 AM
        function checkTimeForSecret() {
            const now = new Date();
            if (now.getHours() === 3 && now.getMinutes() === 33) {
                unlockSecret('secret-2');
            }
        }

        // Verificar cada minuto
        setInterval(checkTimeForSecret, 60000);
        checkTimeForSecret(); // Comprobar al cargar

        // Temporizador para el secreto de paciencia (5 minutos en el menú)
        setTimeout(() => {
            unlockSecret('secret-1');
        }, 300000); // 5 minutos

        // Verificar si se han visitado todos los paneles para el secreto
        let visitedPanels = new Set();
        function checkAllPanelsVisited() {
            visitedPanels.add('panel-juego');

            const allPanels = ['panel-actualizacion', 'panel-logros', 'panel-opciones', 'panel-creditos', 'panel-secretos'];
            let allVisited = true;

            for (const panel of allPanels) {
                if (!visitedPanels.has(panel)) {
                    allVisited = false;
                    break;
                }
            }

            if (allVisited) {
                unlockSecret('secret-5');
            }
        }

        // Registrar visitas a paneles
        document.getElementById('btn-actualizacion').addEventListener('click', () => visitedPanels.add('panel-actualizacion'));
        document.getElementById('btn-logros').addEventListener('click', () => visitedPanels.add('panel-logros'));
        document.getElementById('btn-opciones').addEventListener('click', () => visitedPanels.add('panel-opciones'));
        document.getElementById('btn-creditos').addEventListener('click', () => visitedPanels.add('panel-creditos'));
        document.getElementById('btn-secretos').addEventListener('click', () => visitedPanels.add('panel-secretos'));

        // Función para iniciar el juego
        function startGame(mode) {
            // Redirigir a los HTMLs específicos para cada modo
            if (mode === 'classic') {
                window.location.href = 'memorama.html';
            } else if (mode === 'survival') {
                window.location.href = 'pollolito.html';
            } else if (mode === 'challenge') {
                window.location.href = 'desafio.html';
            }
        }

        // Salir del juego
        function exitGame() {
            // Puedes personalizar esto según lo que necesites
            window.close(); // Esto solo funciona si la ventana fue abierta con JavaScript
            // Otra opción es redirigir a una página de salida
            // window.location.href = 'salida.html';
        }
    </script>
</body>

</html>